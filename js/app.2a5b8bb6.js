(function(){"use strict";var t={3689:function(t,e,o){var s=o(9242),a=o(3396),n=o.p+"img/logo.58649cd2.png";const r={class:"navbar has-shadow is-white"},i={class:"navbar-brand"},l=(0,a._)("img",{src:n,alt:"site logo",style:{"max-height":"70px"},class:"py-2 px-2"},null,-1),u={id:"navbarBasicExample",class:"navbar-menu"},c={class:"navbar-start"},d={class:"navbar-item"},p=(0,a._)("a",{class:"bd-tw-button button"},"Feed",-1),h={class:"navbar-end"},m={class:"navbar-item"},g={class:"buttons"},v=(0,a._)("a",{class:"bd-tw-button button"},"Create Post",-1),f=(0,a._)("a",{class:"bd-tw-button button"},"Login",-1);function b(t,e){const o=(0,a.up)("router-link"),s=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("nav",r,[(0,a._)("div",i,[(0,a.Wm)(o,{to:"/",class:"navbar-item"},{default:(0,a.w5)((()=>[l])),_:1})]),(0,a._)("div",u,[(0,a._)("div",c,[(0,a._)("div",d,[(0,a.Wm)(o,{to:"/feed"},{default:(0,a.w5)((()=>[p])),_:1})])]),(0,a._)("div",h,[(0,a._)("div",m,[(0,a._)("div",g,[(0,a.Wm)(o,{to:"/create"},{default:(0,a.w5)((()=>[v])),_:1}),(0,a.Wm)(o,{to:"/login"},{default:(0,a.w5)((()=>[f])),_:1})])])])])]),(0,a.Wm)(s,{class:"view"})],64)}var y=o(89);const w={},_=(0,y.Z)(w,[["render",b]]);var x=_,k=o(2483);const U=(0,a._)("br",null,null,-1),P=(0,a._)("h1",{class:"title is-2"},"Feed",-1);function S(t,e,o,s,n,r){const i=(0,a.up)("PostCard"),l=(0,a.up)("PaginationRow");return(0,a.wg)(),(0,a.iD)("div",null,[U,P,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.posts,(t=>((0,a.wg)(),(0,a.j4)(i,{key:t.id,author:t.author,created:r.formatDate(t.created),id:t.id,text:t.text},null,8,["author","created","id","text"])))),128)),(0,a.Wm)(l,{modelValue:n.page,"onUpdate:modelValue":e[0]||(e[0]=t=>n.page=t),pages:n.pages},null,8,["modelValue","pages"])])}var D=o(7139);const O={class:"post-card"},T={class:"author"},$={class:"text"},C={class:"time"};function I(t,e,o,s,n,r){return(0,a.wg)(),(0,a.iD)("div",O,[(0,a._)("p",T,[(0,a._)("span",null,[(0,a._)("b",null,(0,D.zw)(o.author.username),1)]),(0,a.Uk)(" wrote ")]),(0,a._)("p",$,(0,D.zw)(o.text),1),(0,a._)("p",C,(0,D.zw)(o.created),1)])}var M={props:{author:{type:Object,default:null,required:!0},created:{type:String,required:!0},text:{type:String,required:!0}}};const V=(0,y.Z)(M,[["render",I],["__scopeId","data-v-dcaed834"]]);var j=V;const z={class:"pagination"},E=["onClick"];function R(t,e,o,s,n,r){return(0,a.wg)(),(0,a.iD)("div",z,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.pages,(t=>((0,a.wg)(),(0,a.iD)("span",{class:(0,D.C_)(["pagination-item",{"pagination-item-active":t==o.modelValue}]),onClick:e=>r.changePage(t),key:`page-${t}`},(0,D.zw)(t),11,E)))),128))])}var F={props:{modelValue:{type:Number,required:!0},pages:{type:Number,required:!0}},methods:{changePage(t){this.$emit("update:modelValue",t)}}};const H=(0,y.Z)(F,[["render",R],["__scopeId","data-v-402cc3a6"]]);var Z=H,q=o(3261),L={components:{PostCard:j,PaginationRow:Z},data(){return{posts:[],page:1,pages:1}},mounted(){this.fetchPosts()},methods:{fetchPosts(){this.$axios.get("/posts/",{params:{page:this.page,reversed:!0}}).then((t=>{this.posts=t.data.posts,this.page=t.data.page,this.pages=t.data.pages})).catch((t=>console.error(t.message)))},formatDate(t){return q.ou.fromISO(t).toFormat("dd/MM/yyyy HH:mm")}},watch:{page(){this.fetchPosts()}}};const W=(0,y.Z)(L,[["render",S]]);var B=W;const A=(0,a._)("br",null,null,-1),G=(0,a._)("h1",{class:"title is-2"},"Create Post",-1),Y=(0,a._)("button",{type:"submit"},"Create",-1);function J(t,e,o,n,r,i){return(0,a.wg)(),(0,a.iD)("div",null,[A,G,(0,a._)("form",{onSubmit:e[1]||(e[1]=(0,s.iM)(((...t)=>i.createPost&&i.createPost(...t)),["prevent"]))},[(0,a.wy)((0,a._)("textarea",{rows:"15",placeholder:"Text","onUpdate:modelValue":e[0]||(e[0]=t=>r.text=t)},null,512),[[s.nr,r.text]]),Y],32)])}var K={data(){return{text:""}},methods:{createPost(){this.$axios.post("/posts/",{text:this.text}).then((()=>{this.text="",this.$toast.success("Post created!",{position:"bottom"})})).catch((t=>{console.error(t.message),this.$toast.info("First you need to login!",{position:"bottom"})}))}}};const N=(0,y.Z)(K,[["render",J]]);var Q=N;const X=t=>((0,a.dD)("data-v-133b7d58"),t=t(),(0,a.Cn)(),t),tt={key:0},et=X((()=>(0,a._)("br",null,null,-1))),ot=X((()=>(0,a._)("h1",null,"Login",-1))),st=X((()=>(0,a._)("button",{type:"submit"},"Enter",-1))),at=X((()=>(0,a._)("b",null," Register here! ",-1))),nt=[at],rt={key:1},it=X((()=>(0,a._)("br",null,null,-1))),lt=X((()=>(0,a._)("h1",null,"Register",-1))),ut=X((()=>(0,a._)("button",{type:"submit"},"Register",-1))),ct=X((()=>(0,a._)("b",null," Login here! ",-1))),dt=[ct],pt={key:2},ht={class:"user-info"},mt=X((()=>(0,a._)("b",null,"Email:",-1))),gt=X((()=>(0,a._)("b",null,"Country:",-1))),vt=X((()=>(0,a._)("b",null,"Created at:",-1))),ft=X((()=>(0,a._)("b",null,"Birthdate:",-1))),bt=X((()=>(0,a._)("b",null,"Role:",-1)));function yt(t,e,o,n,r,i){return null==r.user&&0==r.register?((0,a.wg)(),(0,a.iD)("div",tt,[et,ot,(0,a._)("form",{onSubmit:e[2]||(e[2]=(0,s.iM)(((...t)=>i.loginUser&&i.loginUser(...t)),["prevent"]))},[(0,a.wy)((0,a._)("input",{type:"text",placeholder:"Username","onUpdate:modelValue":e[0]||(e[0]=t=>r.username=t)},null,512),[[s.nr,r.username]]),(0,a.wy)((0,a._)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=t=>r.password=t)},null,512),[[s.nr,r.password]]),st],32),(0,a._)("p",null,[(0,a.Uk)(" Don't have an account yet? "),(0,a._)("a",{onClick:e[3]||(e[3]=t=>r.register=!0),class:"register-link"},nt)])])):null==r.user&&1==r.register?((0,a.wg)(),(0,a.iD)("div",rt,[it,lt,(0,a._)("form",{onSubmit:e[10]||(e[10]=(0,s.iM)(((...t)=>i.registerUser&&i.registerUser(...t)),["prevent"]))},[(0,a.wy)((0,a._)("input",{type:"text",placeholder:"Username","onUpdate:modelValue":e[4]||(e[4]=t=>r.username=t)},null,512),[[s.nr,r.username]]),(0,a.wy)((0,a._)("input",{type:"text",placeholder:"Email","onUpdate:modelValue":e[5]||(e[5]=t=>r.email=t)},null,512),[[s.nr,r.email]]),(0,a.wy)((0,a._)("input",{type:"text",placeholder:"Country","onUpdate:modelValue":e[6]||(e[6]=t=>r.country=t)},null,512),[[s.nr,r.country]]),(0,a.wy)((0,a._)("input",{type:"date",placeholder:"Birthdate","onUpdate:modelValue":e[7]||(e[7]=t=>r.birthdate=t)},null,512),[[s.nr,r.birthdate]]),(0,a.wy)((0,a._)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":e[8]||(e[8]=t=>r.password=t)},null,512),[[s.nr,r.password]]),(0,a.wy)((0,a._)("input",{type:"password",placeholder:"Confirm Password","onUpdate:modelValue":e[9]||(e[9]=t=>r.confirm_password=t)},null,512),[[s.nr,r.confirm_password]]),ut],32),(0,a._)("p",null,[(0,a.Uk)(" Already have an account? "),(0,a._)("a",{onClick:e[11]||(e[11]=t=>r.register=!1),class:"register-link"},dt)])])):((0,a.wg)(),(0,a.iD)("div",pt,[(0,a._)("h1",null,(0,D.zw)(r.user.username)+" (ID "+(0,D.zw)(r.user.id)+")",1),(0,a._)("div",ht,[(0,a._)("p",null,[mt,(0,a.Uk)(" "+(0,D.zw)(r.user.email),1)]),(0,a._)("p",null,[gt,(0,a.Uk)(" "+(0,D.zw)(r.user.country),1)]),(0,a._)("p",null,[vt,(0,a.Uk)(" "+(0,D.zw)(i.created_at_formatted),1)]),(0,a._)("p",null,[ft,(0,a.Uk)(" "+(0,D.zw)(i.birthdate_formatted),1)]),(0,a._)("p",null,[bt,(0,a.Uk)(" "+(0,D.zw)(r.user.role.name),1)]),(0,a._)("button",{class:"logout-button",onClick:e[12]||(e[12]=t=>i.logout())},"Logout")])]))}var wt={data(){return{username:"",password:"",country:"",birthdate:null,email:"",confirm_password:"",user:null,register:!1}},mounted(){localStorage.getItem("authToken")&&this.fetchUser()},methods:{loginUser(){this.$axios.post("/auth/login",{username:this.username,password:this.password}).then((t=>{this.$axios.storeToken(t.data.access_token),this.fetchUser(),this.$toast.success("Login successful!",{position:"bottom"})})).catch((t=>{console.error(t.message),this.$toast.error("Invalid credentials!",{position:"bottom"})}))},registerUser(){if(0==this.username.length||0==this.password.length||0==this.country.length||0==this.email.length||null==this.birthdate)return void this.$toast.error("Missing information!",{position:"bottom"});let t=new Date(this.birthdate);const e=t.getTimezoneOffset();t=new Date(t.getTime()-60*e*1e3),t=t.toISOString(),this.username.includes(" ")?this.$toast.error("Username can't have spaces!",{position:"bottom"}):this.password==this.confirm_password?this.$axios.post("/users/",{username:this.username,password:this.password,country:this.country,email:this.email,birthdate:t}).then((()=>{this.loginUser()})).catch((t=>{console.error(t.message),this.$toast.error("Error during user creation!",{position:"bottom"})})):this.$toast.error("Passwords need to match!",{position:"bottom"})},fetchUser(){this.$axios.get("/users/me").then((t=>{this.user=t.data})).catch((t=>{console.error(t.message)}))},logout(){this.user=null,localStorage.removeItem("authToken"),this.$axios.updateToken(),this.$toast.info("Logout!",{position:"bottom"})}},computed:{created_at_formatted(){return q.ou.fromISO(this.user.created_at).toFormat("dd/MM/yyyy HH:mm")},birthdate_formatted(){return q.ou.fromISO(this.user.birthdate).toFormat("dd/MM/yyyy")}}};const _t=(0,y.Z)(wt,[["render",yt],["__scopeId","data-v-133b7d58"]]);var xt=_t,kt=o.p+"img/logohome.cddf8c0a.png",Ut=o.p+"img/Discord.aac07f70.png",Pt=o.p+"img/GitHub.0800cf1f.jpg";const St={class:"container"},Dt=(0,a.uE)('<br><br><div class="columns"><div class="column is-10 is-offset-1"><div class="columns featured-post is-multiline"><div class="column is-12 post"><article class="columns featured"><div class="column is-7 box"><img src="'+kt+'" alt=""></div><div class="column is-5 is-vcentered va"><div><h3 class="heading post-category">about</h3><h1 class="title post-title">Meet StudyPals!</h1><p class="post-excerpt"> StudyPals is an educational social media platform that connects students from diverse social and cultural backgrounds. This initiative seeks to tackle education inequality by facilitating the formation of study groups, peer reviews and small lectures. </p><br><h3 class="heading post-category">help</h3><h1 class="title post-title">Get Started!</h1><p class="post-excerpt"> To get started simply create an account and dive into our vibrant community. Make posts to share thoughts, questions, or study experiences, and explore the feed to stay updated on discussions. Engage with positivity, and enjoy the supportive atmosphere as you navigate your academic journey. </p></div></div></article></div></div><hr><div class="columns is-multiline"><div class="column post is-6"><article class="columns is-multiline"><div class="column is-12 box"><img src="'+Ut+'" alt="Featured Image"></div><div class="column is-12 featured-content"><h3 class="heading post-category">Community</h3><h1 class="title post-title">Join our Discord server</h1><p class="post-excerpt"> Elevate your study experience by joining StudyPals on Discord! Engage with a dynamic community, exchange study tips, and connect with peers in real time. </p><br><a href="https://discord.gg/WZUStrk3sh"><button>Join</button></a></div></article></div><div class="column post is-6"><article class="columns is-multiline"><div class="column is-12 box"><img src="'+Pt+'" alt="Featured Image"></div><div class="column is-12 featured-content"><h3 class="heading post-category">code</h3><h1 class="title post-title">Open Source</h1><p class="post-excerpt"> Both the front end and back end of StudyPals are now available on GitHub. Explore and contribute to our open-source community! <a href="https://github.com/RaivenDev/StudyPalsFrontEnd">Front-end</a> and <a href="https://github.com/RaivenDev/Studypals">Back-end</a>. </p><br><a href="https://github.com/RaivenDev"><button>Read More</button></a></div></article></div></div></div></div>',3),Ot=[Dt];function Tt(t,e){return(0,a.wg)(),(0,a.iD)("div",St,Ot)}const $t={},Ct=(0,y.Z)($t,[["render",Tt]]);var It=Ct;const Mt=[{path:"/",name:"home",component:It},{path:"/feed",name:"feed",component:B},{path:"/create",name:"create",component:Q},{path:"/login",name:"user",component:xt}],Vt=(0,k.p7)({history:(0,k.PO)("/<REPO>/"),routes:Mt});var jt=Vt,zt=o(1718),Et=o.n(zt),Rt=o(771),Ft={install(t){const e=Rt.Z.create({baseURL:"http://localhost:5000"});e.updateToken=()=>{null!=localStorage.getItem("authToken")?e.defaults.headers.common["Authorization"]=`Bearer ${localStorage.getItem("authToken")}`:e.defaults.headers.common["Authorization"]=null},e.storeToken=t=>{localStorage.setItem("authToken",t),e.updateToken()},e.updateToken(),t.config.globalProperties.$axios=e}};(0,s.ri)(x).use(jt).use(Ft).use(Et()).mount("#app")}},e={};function o(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,o),n.exports}o.m=t,function(){var t=[];o.O=function(e,s,a,n){if(!s){var r=1/0;for(c=0;c<t.length;c++){s=t[c][0],a=t[c][1],n=t[c][2];for(var i=!0,l=0;l<s.length;l++)(!1&n||r>=n)&&Object.keys(o.O).every((function(t){return o.O[t](s[l])}))?s.splice(l--,1):(i=!1,n<r&&(r=n));if(i){t.splice(c--,1);var u=a();void 0!==u&&(e=u)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[s,a,n]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var s in e)o.o(e,s)&&!o.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/<REPO>/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,n,r=s[0],i=s[1],l=s[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(l)var c=l(o)}for(e&&e(s);u<r.length;u++)n=r[u],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(c)},s=self["webpackChunkstudypals"]=self["webpackChunkstudypals"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(3689)}));s=o.O(s)})();
//# sourceMappingURL=app.2a5b8bb6.js.map